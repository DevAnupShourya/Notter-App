<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>To-Do List</title>
</head>
<body>
  <h1>To-Do List</h1>
  <form id="add-task-form">
    <input type="text" id="task-input" placeholder="Enter a new task">
    <button type="submit">Add Task</button>
  </form>
  <ul id="task-list"></ul>
</body>
  <script>
    const taskList = document.getElementById('task-list')!;
    const tasks: string[] = JSON.parse(localStorage.getItem('tasks') || '[]');

    function addTask(task: string): void {
      tasks.push(task);
      updateLocalStorage();
      renderTasks();
    }

    function removeTask(task: string): void {
      tasks = tasks.filter(t => t !== task);
      updateLocalStorage();
      renderTasks();
    }

    function updateLocalStorage(): void {
      localStorage.setItem('tasks', JSON.stringify(tasks));
    }

    function renderTasks(): void {
      taskList.innerHTML = '';
      tasks.forEach(task => {
        const li = document.createElement('li');
        li.textContent = task;
        const button = document.createElement('button');
        button.classList.add('remove-task');
        button.textContent = 'X';
        li.appendChild(button);
        taskList.appendChild(li);
      });
    }

    document.getElementById('add-task-form')!.addEventListener('submit', (event) => {
      event.preventDefault();
      const taskInput = document.getElementById('task-input') as HTMLInputElement;
      addTask(taskInput.value);
      taskInput.value = '';
    });

    taskList.addEventListener('click', (event) => {
      if (event.target && event.target.matches('button.remove-task')) {
        const task = (event.target as HTMLButtonElement).parentElement!.textContent!.trim();
        removeTask(task);
      }
    });

    renderTasks();
  </script>
</body>
</html>
